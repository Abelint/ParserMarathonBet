!function(a){function n(){return a("#broadcastWidget").length}a(document).on("mouseenter","[data-broadcast-for-logged]",function(){initData.isLogged&&a(this).toggleClass("broadcast-enabled",initData.isStreamingIconEnabled);var t=a("[data-tooltip-streaming-icon]",this);t.each(function(){this.isTooltip=!1}),initData.isStreamingIconEnabled?t.PanbetTooltip("tooltipForStreamingIcon"):t.PanbetTooltip("tooltipForStreamingIcon",{tooltipText:PanbetConst.Hint.ZERO_BALANCE_STREAMING_IMG_HINT})}),a(document).on("click","[data-broadcast]",function(){var t=a(this).data("broadcastType"),e=a(this).parents("[data-event-treeid]:first").data("eventTreeid");if("Streaming"==t){if(!initData.isStreamingIconEnabled)return!1;if(a(this).parents("[data-broadcast-for-not-logged]:first").length)return a.cookie("BROADCAST",t+"_"+e,{expires:1,path:"/"}),n()&&1276<=window.innerWidth?showLoginDialog():showLoginDialog({afterJoin:function(){window.Emitter.emit("gotoEventPage",{treeId:e,forcedReload:!0})}}),!1}if("Streaming"==t||"LiveAnimation"==t||"LiveAnimationStat"==t)return n()?(a(this).trigger("broadcast.opened"),window.Emitter.emit("broadcast.opened",{treeId:e,type:t})):(a.cookie("BROADCAST",t+"_"+e,{expires:1,path:"/"}),window.Emitter.emit("gotoEventPage",{treeId:e})),!1}),window.getBroadcastIconHelper=function(){return{Init:function(){var e;initData.streamingIconAvailableRefreshEnabled&&(e=window.Log.getLogger("punterMainBalanceRefresh"),StompManager.subscribe(initData.stomp.punterMainBalanceChangesPath,function(t){t&&t.body&&(t=JSON.parse(t.body),e.debug(["punterMainBalanceRefresh","onMessage() callback receive data",t]),t)&&t.balance&&(initData.isStreamingIconEnabled=0<PanbetPunterBalance.parseBalanceValue(t.balance))}))}}}}(window.jQuery);
//# sourceMappingURL=BroadcastIconHelperClass.map